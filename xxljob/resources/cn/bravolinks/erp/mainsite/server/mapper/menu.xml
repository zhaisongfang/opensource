<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.bravolinks.erp.mainsite.server.dao.menu_dao">
   <resultMap id="BaseResultMap" type="cn.bravolinks.erp.mainsite.server.model.menu">
  </resultMap>
  
   <!-- 查询根菜单 -->
  <select id="getRootDept" resultType="cn.bravolinks.erp.mainsite.server.model.menu" >      
      select  DISTINCT group_name as name  from sysflow where group_name !='平台自带'  
  </select>
 
  <!-- 根据一级菜单名称查询子几点名称及id -->
  <select id="getTwoByID" parameterType="String" resultType="cn.bravolinks.erp.mainsite.server.model.menu_two" >     
      select id as twoid ,flowname as name from sysflow where workflowtype ='0' and group_name=#{name} and isclose='0'        
  </select>
  
  <!-- 这个方法暂时不用 -->
  <select id="getThreeByID" parameterType="int" resultType="cn.bravolinks.erp.mainsite.server.model.menu_three" >
    select three.id as threeid, three.function_name as name  from sys_nav_directory two inner join sys_nav_function  three
        on two.id = three.directory_id where  two.id=#{id}
  </select>
  <!-- 查询所有流程id值 -->
  <select id="getCodeid" resultType="java.lang.String">
      select id as codeid from sysflow where workflowtype ='0' and isclose='0' and group_name!='平台自带'
  </select>
  
</mapper>